<style type="text/css">
  main {
    display: inline-block;
    margin-right: -215px;
    margin-bottom: -5px;
    padding: 8px 215px 8px 0;
    width: 100%;
  }
  section {
    float: left;
    padding: 8px;
    padding-right: 4px;
    overflow-y: auto;
  }
  pre { margin: 0 }

  .legend {
    float: right;
    padding: 16px 8px 8px 0;
    width: 215px;
  }
  .legend header { padding-top: 8px }
  .codehilite {
    overflow-x: auto;
    border-radius: 5px;
  }
  .legend .codehilite { font-size: 13px }
  .codeviewer {
    float: left;
    padding: 8px 12px;
    width: 49%;
    border: 1px dotted <%= @comment_color %>
  }
  .codeviewer:not(:first-of-type) { margin-left: 4px }
  .codeviewer:not(:last-of-type) { margin-right: 4px }

  .codeviewer header, .legend header {
    margin-bottom: 20px;
    padding-bottom: 8px;
    color: <%= @comment_color %>;
    border-bottom: 1px dotted
  }
</style>

<header id="page-header">
  <h1><%= @lexer.class.tag %> lexer visual test</h1>
</header>

<main>
  <section>
    <div class="codeviewer">
      <header class="section-header"><h2>Raw</h2></header>
      <%= @raw %>
    </div>
    <div class="codeviewer">
      <header class="section-header"><h2>Highlighted</h2></header>
      <%= @highlighted %>
    </div>
  </section>
</main>

<aside class="legend">
  <header class="section-header"><h2>Legend</h2></header>
  <pre class="codehilite">
<% Rouge::Token.each_token do |token|
  %><span class="<%= token.shortname %>"><%= token.qualname %></span>
<% end %>
  </pre>
</aside>
